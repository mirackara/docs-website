---
title: "What's causing my app's high latency?"
tags:
- Learning paths
- Customer experience
- Browser monitoring
- Latency
metaDescription: "How to find, diagnose, and fix, an instance of your abnormal or poor app latency."
---

import solutionsOmaUprPatternNormal from 'images/solutions_screenshot-full_oma-upr-pattern-normal.png'

import solutionsNormalPercentilePattern from 'images/solutions_screenshot-full_normal-percentile-pattern.png'

import solutionsPatternAbnormal from 'images/solutions_screenshot-full_pattern-abnormal.png'

import solutionsPatternAbnormalCompare from 'images/solutions_screenshot-full_pattern-abnormal-compare.png'

Your app's performance is one of the most important aspects of whether or not your business will succeed. [According to Google's research](https://think.storage.googleapis.com/images/micromoments-guide-to-winning-shift-to-mobile-download.pdf), 29% of mobile users will avoid using a site or an application if it's too slow or too difficult to find information, with 70% of those users doing so because the site is too slow. Diagnosing and fixing performance issues for your site or application helps your organization attract new users while retaining existing ones, and New Relic is just the tool to help you do it.

## Diagnosing latency issues [#diagnostic-steps]

First, you should familiarize yourself with the causes of high latency among most websites and applications. Knowing these can help you determine what the cause of high latency is for your own system. The most common types of high latency are:

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="Slow page load"
    title="Slow page load"
  >
  When a user attempts to access a website and pages take longer than expected to load, this is often what causes the latency that the user is exposed to. You can diagnose this is a cause of latency using **Largest contentful paint** (LCP), one of Google's core web vitals. LCP is listed on the **Summary** page of <InlinePopover type="browser" />, and you can also use the **Session trace** page of a browser monitor to identify specific causes of latency on a specific page.
  </Collapser>

  <Collapser
    className="freq-link"
    id="Page non-interactivity"
    title="Page non-interactivity"
  >
  When a user has to wait longer than expected to be able to interact with page elements, such as using search functions or using features, this is the cause of the latency that the user experiences. You can use **First input delay** (FID), another one of Google's core web vitals. FID is listed on the **Summary** page of <InlinePopover type="browser" />, and the **Session trace** page of a browser monitor can help identify the specific cause of latency on a page. 
  </Collapser>

  <Collapser
    className="freq-link"
    id="Slow ajax"
    title="Slow AJAX requests"
  >
  When a user is feels that the overall performance of a site or application is poor, this is often the issue causing high latency. This can be caused by a number of factors, such as slow application times or long running JavaScript, but New Relic can help you find out if this is the issue your service is experiencing. AJAX monitoring is found on its own page in <InlinePopover type="browser" />, and you can find more information about diagnosing various AJAX issues [here](/docs/browser/browser-monitoring/browser-pro-features/ajax-page-identify-time-consuming-calls/#ajax-dashboard).
  </Collapser>

</CollapserGroup>

The next step after identifying the source of a problem is to identify any anomalies. Identifying pattern anomalies will improve your ability to identify what and where the direct cause of problems may be. The key to identifying these is realizing that you don't need to know how the service should be performing, but only that recent behavior has changed. 

The examples below use response time or latency as the metric, but you can apply the same analysis to almost any dataset, such as errors, throughput, hardware resource metrics, queue depths, and many more.

Here you can see an example of a seemingly volatile response time chart in APM using <InlinePopover type="dashboards" />. Upon close inspection, you can see that the behavior of the response time is repetitive: there's no radical change in the behavior across a 7-day period. The spikes are repetitive and not unusual compared to the rest of the timeline.

<img
  alt="normal pattern"
  title="Normal pattern"
  src={solutionsOmaUprPatternNormal}
/>

If you change the view of the data from **average over time** to **percentiles over time**, it becomes even more clear how "regular" the changes in response time are.

<img
  alt="normal pattern with percentile"
  title="Normal pattern with percentile"
  src={solutionsNormalPercentilePattern}
/>

Compared to the example above, this chart shows an application response time that seems to have increased in an unusual way compared to recent behavior.

<img
  alt="abnormal pattern"
  title="Abnormal pattern"
  src={solutionsPatternAbnormal}
/>

You can use a week-over-week comparison to confirm this. When you do, you can see the pattern has changed and that it appears to be worsening from last week's comparison.

<img
  alt="abnormal pattern week-over-week"
  title="Abnormal pattern week-over-week comparison"
  src={solutionsPatternAbnormalCompare}
/>

Examples of other common anomalies are: 

1. Throughput (traffic)
2. Code (deployments)
3. Resources (hardware allocation)
4. Upstream or downstream dependency changes
5. Data volume

Let's look at an example problem. Let's say you deploy a new product, and a significant increase in requests causes unacceptable response times. Using dashboards to identify anomalies, the source is discovered in the login middleware service. The problem is a jump in TCP queue times.

Here's a breakdown of this situation:

* **Category**: output performance
* **Source**: login middleware
* **Direct cause**: TCP queue times from additional request load
* **Solution**: increased TCP connection limit and scaled resources
* **Root-cause**: insufficient capacity planning and quality assurance testing on downstream service impacting login middleware